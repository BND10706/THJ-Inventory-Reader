<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="THJ_Inventory_Reader.MainPage"
             Title="THJ Inventory Reader">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Menu Bar -->
        <StackLayout Grid.Row="0" Orientation="Horizontal" Padding="10" BackgroundColor="#F0F0F0">
            <Button Text="File" x:Name="FileMenuBtn" Clicked="OnFileMenuClicked" />
        </StackLayout>

        <!-- Main Content Area -->
        <ScrollView Grid.Row="1" x:Name="MainContent">
            <StackLayout Padding="20" x:Name="WelcomeView">
                <Label 
                    Text="THJ Inventory Reader"
                    FontSize="24"
                    FontAttributes="Bold"
                    HorizontalOptions="Center"
                    Margin="0,20,0,10" />
                <Label 
                    Text="EverQuest Character Inventory Manager"
                    FontSize="16"
                    HorizontalOptions="Center"
                    TextColor="Gray"
                    Margin="0,0,0,30" />
                <Label 
                    Text="Use the File menu to open an inventory file"
                    FontSize="14"
                    HorizontalOptions="Center" />
            </StackLayout>        </ScrollView>
        
        <!-- Hidden File Menu -->
        <StackLayout x:Name="FileMenu" IsVisible="False" 
                     Grid.Row="1" 
                     BackgroundColor="White" 
                     Margin="10,0,0,0"
                     VerticalOptions="Start"
                     HorizontalOptions="Start"
                     ZIndex="1000">
            <Button Text="Open Inventory File" Clicked="OnOpenFileClicked" />
            <Button Text="Load Default Character" Clicked="OnLoadDefaultClicked" />
            <Button Text="Close" Clicked="OnCloseMenuClicked" />
        </StackLayout>        <!-- EverQuest Character Sheet Display (Initially Hidden) -->
        <ScrollView Grid.Row="1" x:Name="InventoryView" IsVisible="False" InputTransparent="True">
            <StackLayout Padding="20">
                <Label x:Name="FileNameLabel" FontSize="18" FontAttributes="Bold" HorizontalOptions="Center" Margin="0,0,0,20" />
                
                <!-- EverQuest Authentic Inventory Window (426x500 as per EQUI_Inventory.xml) -->
                <Border BackgroundColor="#3a3a4a" 
                        Stroke="#8B4513" 
                        StrokeThickness="3"
                        HorizontalOptions="Center" 
                        VerticalOptions="Center"
                        WidthRequest="426" 
                        HeightRequest="500"
                        CornerRadius="8">
                    <Border.Background>
                        <ImageBrush ImageSource="background_dark.png" Stretch="Fill" />
                    </Border.Background>
                    
                    <Grid x:Name="CharacterSheetGrid" 
                          HorizontalOptions="Fill" 
                          VerticalOptions="Fill"
                          Padding="10">
                        
                        <!-- Title Bar Area -->
                        <Label Text="Inventory" 
                               FontSize="16" 
                               FontAttributes="Bold"
                               TextColor="#FFD700"
                               HorizontalOptions="Center" 
                               VerticalOptions="Start"
                               Margin="0,5,0,0" />
                          
                        <!-- Character Equipment Area (centered within the 426x500 window) -->
                        <Grid WidthRequest="420" 
                              HeightRequest="370"
                              HorizontalOptions="Center" 
                              VerticalOptions="Center"
                              Margin="0,30,0,0">
                        
                            <!-- Equipment slots positioned to match EverQuest layout exactly -->
                              <!-- LEFT EAR (InvSlot1) -->
                            <Border HorizontalOptions="Start" 
                                    VerticalOptions="Start"
                                    WidthRequest="42" 
                                    HeightRequest="42"
                                    Margin="123,12,0,0"
                                    StrokeThickness="1"
                                    Stroke="#8B4513">
                                <Border.Background>
                                    <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                                </Border.Background>
                                <Label x:Name="EarSlot1" 
                                       Text="EAR" 
                                       TextColor="#FFD700" 
                                       FontSize="7"
                                       FontAttributes="Bold"
                                       HorizontalOptions="Center" 
                                       VerticalOptions="Center" />
                            </Border>

                            <!-- HEAD (InvSlot2) -->
                            <Border HorizontalOptions="Start" 
                                    VerticalOptions="Start"
                                    WidthRequest="42" 
                                    HeightRequest="42"
                                    Margin="166,12,0,0"
                                    StrokeThickness="1"
                                    Stroke="#8B4513">
                                <Border.Background>
                                    <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                                </Border.Background>
                                <Label x:Name="HeadSlot" 
                                       Text="HEAD" 
                                       TextColor="#FFD700" 
                                       FontSize="7"
                                       FontAttributes="Bold"
                                       HorizontalOptions="Center" 
                                       VerticalOptions="Center" />
                            </Border>

                            <!-- FACE (InvSlot3) -->
                            <Border HorizontalOptions="Start" 
                                    VerticalOptions="Start"
                                    WidthRequest="42" 
                                    HeightRequest="42"
                                    Margin="210,12,0,0"
                                    StrokeThickness="1"
                                    Stroke="#8B4513">
                                <Border.Background>
                                    <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                                </Border.Background>
                                <Label x:Name="FaceSlot" 
                                       Text="FACE" 
                                       TextColor="#FFD700" 
                                       FontSize="7"
                                       FontAttributes="Bold"
                                       HorizontalOptions="Center" 
                                       VerticalOptions="Center" />
                            </Border>

                            <!-- RIGHT EAR (InvSlot4) -->
                            <Border HorizontalOptions="Start" 
                                    VerticalOptions="Start"
                                    WidthRequest="42" 
                                    HeightRequest="42"
                                    Margin="253,12,0,0"
                                    StrokeThickness="1"
                                    Stroke="#8B4513">
                                <Border.Background>
                                    <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                                </Border.Background>
                                <Label x:Name="EarSlot2" 
                                       Text="EAR" 
                                       TextColor="#FFD700" 
                                       FontSize="7"
                                       FontAttributes="Bold"
                                       HorizontalOptions="Center" 
                                       VerticalOptions="Center" />
                            </Border>

                            <!-- CHEST (InvSlot17) -->
                            <Border HorizontalOptions="Start" 
                                    VerticalOptions="Start"
                                    WidthRequest="42" 
                                    HeightRequest="42"
                                    Margin="123,55,0,0"
                                    StrokeThickness="1"
                                    Stroke="#8B4513">
                                <Border.Background>
                                    <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                                </Border.Background>
                                <Label x:Name="ChestSlot" 
                                       Text="CHEST" 
                                       TextColor="#FFD700" 
                                       FontSize="6"
                                       FontAttributes="Bold"
                                       HorizontalOptions="Center" 
                                       VerticalOptions="Center" />
                            </Border>

                    <!-- NECK (InvSlot5) -->
                    <Border HorizontalOptions="Start" 
                            VerticalOptions="Start"
                            WidthRequest="42" 
                            HeightRequest="42"
                            Margin="253,55,0,0"
                            StrokeThickness="1"
                            Stroke="#8B4513">
                        <Border.Background>
                            <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                        </Border.Background>
                        <Label x:Name="NeckSlot" 
                               Text="NECK" 
                               TextColor="#FFD700" 
                               FontSize="7"
                               FontAttributes="Bold"
                               HorizontalOptions="Center" 
                               VerticalOptions="Center" />
                    </Border>

                    <!-- BACK/ABOUT BODY (InvSlot8) -->
                    <Border HorizontalOptions="Start" 
                            VerticalOptions="Start"
                            WidthRequest="42" 
                            HeightRequest="42"
                            Margin="253,98,0,0"
                            StrokeThickness="1"
                            Stroke="#8B4513">
                        <Border.Background>
                            <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                        </Border.Background>
                        <Label x:Name="BackSlot" 
                               Text="BACK" 
                               TextColor="#FFD700" 
                               FontSize="7"
                               FontAttributes="Bold"
                               HorizontalOptions="Center" 
                               VerticalOptions="Center" />
                    </Border>

                    <!-- ARMS (InvSlot7) -->
                    <Border HorizontalOptions="Start" 
                            VerticalOptions="Start"
                            WidthRequest="42" 
                            HeightRequest="42"
                            Margin="123,99,0,0"
                            StrokeThickness="1"
                            Stroke="#8B4513">
                        <Border.Background>
                            <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                        </Border.Background>
                        <Label x:Name="ArmsSlot" 
                               Text="ARMS" 
                               TextColor="#FFD700" 
                               FontSize="7"
                               FontAttributes="Bold"
                               HorizontalOptions="Center" 
                               VerticalOptions="Center" />
                    </Border>

                    <!-- SHOULDERS (InvSlot6) -->
                    <Border HorizontalOptions="Start" 
                            VerticalOptions="Start"
                            WidthRequest="42" 
                            HeightRequest="42"
                            Margin="253,141,0,0"
                            StrokeThickness="1"
                            Stroke="#8B4513">
                        <Border.Background>
                            <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                        </Border.Background>
                        <Label x:Name="ShoulderSlot" 
                               Text="SHLD" 
                               TextColor="#FFD700" 
                               FontSize="7"
                               FontAttributes="Bold"
                               HorizontalOptions="Center" 
                               VerticalOptions="Center" />
                    </Border>

                    <!-- WAIST (InvSlot20) -->
                    <Border HorizontalOptions="Start" 
                            VerticalOptions="Start"
                            WidthRequest="42" 
                            HeightRequest="42"
                            Margin="123,142,0,0"
                            StrokeThickness="1"
                            Stroke="#8B4513">
                        <Border.Background>
                            <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                        </Border.Background>
                        <Label x:Name="WaistSlot" 
                               Text="WAIST" 
                               TextColor="#FFD700" 
                               FontSize="6"
                               FontAttributes="Bold"
                               HorizontalOptions="Center" 
                               VerticalOptions="Center" />
                    </Border>

                    <!-- LEFT WRIST (InvSlot9) -->
                    <Border HorizontalOptions="Start" 
                            VerticalOptions="Start"
                            WidthRequest="42" 
                            HeightRequest="42"
                            Margin="123,185,0,0"
                            StrokeThickness="1"
                            Stroke="#8B4513">
                        <Border.Background>
                            <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                        </Border.Background>
                        <Label x:Name="WristSlot1" 
                               Text="WRIST" 
                               TextColor="#FFD700" 
                               FontSize="6"
                               FontAttributes="Bold"
                               HorizontalOptions="Center" 
                               VerticalOptions="Center" />
                    </Border>

                    <!-- RIGHT WRIST (InvSlot10) -->
                    <Border HorizontalOptions="Start" 
                            VerticalOptions="Start"
                            WidthRequest="42" 
                            HeightRequest="42"
                            Margin="253,185,0,0"
                            StrokeThickness="1"
                            Stroke="#8B4513">
                        <Border.Background>
                            <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                        </Border.Background>
                        <Label x:Name="WristSlot2" 
                               Text="WRIST" 
                               TextColor="#FFD700" 
                               FontSize="6"
                               FontAttributes="Bold"
                               HorizontalOptions="Center" 
                               VerticalOptions="Center" />
                    </Border>

                    <!-- LEGS (InvSlot18) -->
                    <Border HorizontalOptions="Start" 
                            VerticalOptions="Start"
                            WidthRequest="42" 
                            HeightRequest="42"
                            Margin="123,228,0,0"
                            StrokeThickness="1"
                            Stroke="#8B4513">
                        <Border.Background>
                            <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                        </Border.Background>
                        <Label x:Name="LegsSlot" 
                               Text="LEGS" 
                               TextColor="#FFD700" 
                               FontSize="7"
                               FontAttributes="Bold"
                               HorizontalOptions="Center" 
                               VerticalOptions="Center" />
                    </Border>

                    <!-- HANDS (InvSlot12) -->
                    <Border HorizontalOptions="Start" 
                            VerticalOptions="Start"
                            WidthRequest="42" 
                            HeightRequest="42"
                            Margin="166,228,0,0"
                            StrokeThickness="1"
                            Stroke="#8B4513">
                        <Border.Background>
                            <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                        </Border.Background>
                        <Label x:Name="HandsSlot" 
                               Text="HANDS" 
                               TextColor="#FFD700" 
                               FontSize="6"
                               FontAttributes="Bold"
                               HorizontalOptions="Center" 
                               VerticalOptions="Center" />
                    </Border>

                    <!-- CHARM (InvSlot0) -->
                    <Border HorizontalOptions="Start" 
                            VerticalOptions="Start"
                            WidthRequest="42" 
                            HeightRequest="42"
                            Margin="210,228,0,0"
                            StrokeThickness="1"
                            Stroke="#8B4513">
                        <Border.Background>
                            <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                        </Border.Background>
                        <Label x:Name="CharmSlot" 
                               Text="CHARM" 
                               TextColor="#FFD700" 
                               FontSize="6"
                               FontAttributes="Bold"
                               HorizontalOptions="Center" 
                               VerticalOptions="Center" />
                    </Border>

                    <!-- FEET (InvSlot19) -->
                    <Border HorizontalOptions="Start" 
                            VerticalOptions="Start"
                            WidthRequest="42" 
                            HeightRequest="42"
                            Margin="253,228,0,0"
                            StrokeThickness="1"
                            Stroke="#8B4513">
                        <Border.Background>
                            <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                        </Border.Background>
                        <Label x:Name="FeetSlot" 
                               Text="FEET" 
                               TextColor="#FFD700" 
                               FontSize="7"
                               FontAttributes="Bold"
                               HorizontalOptions="Center" 
                               VerticalOptions="Center" />
                    </Border>

                    <!-- LEFT RING (InvSlot15) -->
                    <Border HorizontalOptions="Start" 
                            VerticalOptions="Start"
                            WidthRequest="42" 
                            HeightRequest="42"
                            Margin="166,272,0,0">
                        <Border.Background>
                            <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                        </Border.Background>
                        <Label x:Name="RingSlot1" 
                               Text="RING" 
                               TextColor="#FFD700" 
                               FontSize="7"
                               FontAttributes="Bold"
                               HorizontalOptions="Center" 
                               VerticalOptions="Center" />
                    </Border>

                    <!-- RIGHT RING (InvSlot16) -->
                    <Border HorizontalOptions="Start" 
                            VerticalOptions="Start"
                            WidthRequest="42" 
                            HeightRequest="42"
                            Margin="210,272,0,0">
                        <Border.Background>
                            <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                        </Border.Background>
                        <Label x:Name="RingSlot2" 
                               Text="RING" 
                               TextColor="#FFD700" 
                               FontSize="7"
                               FontAttributes="Bold"
                               HorizontalOptions="Center" 
                               VerticalOptions="Center" />
                    </Border>

                    <!-- PRIMARY WEAPON (InvSlot13) -->
                    <Border HorizontalOptions="Start" 
                            VerticalOptions="Start"
                            WidthRequest="42" 
                            HeightRequest="42"
                            Margin="123,316,0,0"
                            StrokeThickness="1"
                            Stroke="#8B4513">
                        <Border.Background>
                            <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                        </Border.Background>
                        <Label x:Name="PrimarySlot" 
                               Text="PRI" 
                               TextColor="#FFD700" 
                               FontSize="7"
                               FontAttributes="Bold"
                               HorizontalOptions="Center" 
                               VerticalOptions="Center" />
                    </Border>

                    <!-- SECONDARY WEAPON (InvSlot14) -->
                    <Border HorizontalOptions="Start" 
                            VerticalOptions="Start"
                            WidthRequest="42" 
                            HeightRequest="42"
                            Margin="166,316,0,0"
                            StrokeThickness="1"
                            Stroke="#8B4513">
                        <Border.Background>
                            <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                        </Border.Background>
                        <Label x:Name="SecondarySlot" 
                               Text="SEC" 
                               TextColor="#FFD700" 
                               FontSize="7"
                               FontAttributes="Bold"
                               HorizontalOptions="Center" 
                               VerticalOptions="Center" />
                    </Border>

                    <!-- RANGE (InvSlot11) -->
                    <Border HorizontalOptions="Start" 
                            VerticalOptions="Start"
                            WidthRequest="42" 
                            HeightRequest="42"
                            Margin="210,316,0,0"
                            StrokeThickness="1"
                            Stroke="#8B4513">
                        <Border.Background>
                            <ImageBrush ImageSource="slot_background.png" Stretch="Fill" />
                        </Border.Background>
                        <Label x:Name="RangeSlot" 
                               Text="RNG" 
                               TextColor="#FFD700" 
                               FontSize="7"
                               FontAttributes="Bold"
                               HorizontalOptions="Center" 
                               VerticalOptions="Center" />
                    </Border>

                </Grid>
            </StackLayout>
        </ScrollView>
    </Grid>

</ContentPage>
