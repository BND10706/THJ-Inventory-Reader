<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="THJ_Inventory_Reader.MainPage"
             Title="THJ Inventory Reader"
             BackgroundColor="#1a1a1a">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Menu Bar with EverQuest styling -->
        <StackLayout Grid.Row="0" Orientation="Horizontal" Padding="10" BackgroundColor="#2d2d2d">
            <Button Text="File" 
                    x:Name="FileMenuBtn" 
                    Clicked="OnFileMenuClicked"
                    BackgroundColor="#3a3a3a"
                    TextColor="#FFD700"
                    BorderColor="#8B4513"
                    BorderWidth="1" />
        </StackLayout>

        <!-- Main Content Area -->
        <ScrollView Grid.Row="1" x:Name="MainContent">
            <StackLayout Padding="20" x:Name="WelcomeView">
                <Label 
                    Text="THJ Inventory Reader"
                    FontSize="24"
                    FontAttributes="Bold"
                    HorizontalOptions="Center"
                    TextColor="#FFD700"
                    Margin="0,20,0,10" />
                <Label 
                    Text="EverQuest Character Inventory Manager"
                    FontSize="16"
                    HorizontalOptions="Center"
                    TextColor="#C0C0C0"
                    Margin="0,0,0,30" />
                <Label 
                    Text="Use the File menu to open an inventory file"
                    FontSize="14"
                    HorizontalOptions="Center"
                    TextColor="#A0A0A0" />
            </StackLayout>
        </ScrollView>
        
        <!-- Hidden File Menu with EverQuest styling -->
        <StackLayout x:Name="FileMenu" IsVisible="False" 
                     Grid.Row="1" 
                     BackgroundColor="#2d2d2d" 
                     Margin="10,0,0,0"
                     VerticalOptions="Start"
                     HorizontalOptions="Start"
                     ZIndex="1000">
            <Button Text="Open Inventory File" 
                    Clicked="OnOpenFileClicked"
                    BackgroundColor="#3a3a3a"
                    TextColor="#FFD700"
                    BorderColor="#8B4513"
                    BorderWidth="1" />
            <Button Text="Load Default Character" 
                    Clicked="OnLoadDefaultClicked"
                    BackgroundColor="#3a3a3a"
                    TextColor="#FFD700"
                    BorderColor="#8B4513"
                    BorderWidth="1" />
            <Button Text="Close" 
                    Clicked="OnCloseMenuClicked"
                    BackgroundColor="#3a3a3a"
                    TextColor="#FFD700"
                    BorderColor="#8B4513"
                    BorderWidth="1" />
        </StackLayout>        
        <!-- Authentic EverQuest Inventory Window (Initially Hidden) -->
        <ScrollView Grid.Row="1" x:Name="InventoryView" IsVisible="False" InputTransparent="True">
            <StackLayout Padding="20">
                <Label x:Name="FileNameLabel" 
                       FontSize="18" 
                       FontAttributes="Bold" 
                       HorizontalOptions="Center" 
                       Margin="0,0,0,20"
                       TextColor="#FFD700" />
                
                <!-- EverQuest Inventory Window Frame (426x500 as per EQUI_Inventory.xml) -->
                <Frame BackgroundColor="Transparent"
                       HorizontalOptions="Center" 
                       VerticalOptions="Center"
                       WidthRequest="426" 
                       HeightRequest="500"
                       HasShadow="True"
                       Padding="0">
                    
                    <!-- Main window background -->
                    <Grid HorizontalOptions="Fill" VerticalOptions="Fill">
                        
                        <!-- Background image -->
                        <Image Source="wnd_bg_light_rock.png"
                               Aspect="Fill"
                               HorizontalOptions="Fill"
                               VerticalOptions="Fill" />
                        
                        <!-- Window border overlay -->
                        <Image Source="window_pieces01.png"
                               Aspect="Fill"
                               HorizontalOptions="Fill"
                               VerticalOptions="Fill"
                               Opacity="0.8" />
                        
                        <!-- Content overlay -->
                        <Grid Padding="20">
                            
                            <!-- Title Bar -->
                            <Label Text="Inventory" 
                                   FontSize="16" 
                                   FontAttributes="Bold"
                                   TextColor="#FFD700"
                                   HorizontalOptions="Center" 
                                   VerticalOptions="Start"
                                   Margin="0,5,0,0" />
                            
                            <!-- Equipment slots positioned exactly as per EQUI_Inventory.xml -->
                            <Grid WidthRequest="386" 
                                  HeightRequest="420"
                                  HorizontalOptions="Center" 
                                  VerticalOptions="Center"
                                  Margin="0,30,0,0">
                                  
                                <!-- CHARM SLOT (InvSlot0) - X:210, Y:228 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="210,228,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="CharmSlot" 
                                               Text="CHARM" 
                                               TextColor="#FFD700" 
                                               FontSize="6"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- LEFT EAR (InvSlot1) - X:123, Y:12 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="123,12,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="EarSlot1" 
                                               Text="EAR" 
                                               TextColor="#FFD700" 
                                               FontSize="7"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- HEAD (InvSlot2) - X:166, Y:12 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="166,12,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="HeadSlot" 
                                               Text="HEAD" 
                                               TextColor="#FFD700" 
                                               FontSize="7"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- FACE (InvSlot3) - X:210, Y:12 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="210,12,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="FaceSlot" 
                                               Text="FACE" 
                                               TextColor="#FFD700" 
                                               FontSize="7"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- RIGHT EAR (InvSlot4) - X:253, Y:12 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="253,12,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="EarSlot2" 
                                               Text="EAR" 
                                               TextColor="#FFD700" 
                                               FontSize="7"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- NECK (InvSlot5) - X:253, Y:55 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="253,55,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="NeckSlot" 
                                               Text="NECK" 
                                               TextColor="#FFD700" 
                                               FontSize="7"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- SHOULDERS (InvSlot6) - X:253, Y:141 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="253,141,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="ShoulderSlot" 
                                               Text="SHLD" 
                                               TextColor="#FFD700" 
                                               FontSize="7"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- ARMS (InvSlot7) - X:123, Y:99 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="123,99,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="ArmsSlot" 
                                               Text="ARMS" 
                                               TextColor="#FFD700" 
                                               FontSize="7"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- BACK (InvSlot8) - X:253, Y:98 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="253,98,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="BackSlot" 
                                               Text="BACK" 
                                               TextColor="#FFD700" 
                                               FontSize="7"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- LEFT WRIST (InvSlot9) - X:123, Y:185 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="123,185,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="WristSlot1" 
                                               Text="WRIST" 
                                               TextColor="#FFD700" 
                                               FontSize="6"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- RIGHT WRIST (InvSlot10) - X:253, Y:185 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="253,185,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="WristSlot2" 
                                               Text="WRIST" 
                                               TextColor="#FFD700" 
                                               FontSize="6"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- RANGE (InvSlot11) - X:210, Y:316 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="210,316,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="RangeSlot" 
                                               Text="RNG" 
                                               TextColor="#FFD700" 
                                               FontSize="7"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- HANDS (InvSlot12) - X:166, Y:228 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="166,228,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="HandsSlot" 
                                               Text="HANDS" 
                                               TextColor="#FFD700" 
                                               FontSize="6"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- PRIMARY WEAPON (InvSlot13) - X:123, Y:316 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="123,316,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="PrimarySlot" 
                                               Text="PRI" 
                                               TextColor="#FFD700" 
                                               FontSize="7"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- SECONDARY WEAPON (InvSlot14) - X:166, Y:316 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="166,316,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="SecondarySlot" 
                                               Text="SEC" 
                                               TextColor="#FFD700" 
                                               FontSize="7"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- LEFT RING (InvSlot15) - X:166, Y:272 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="166,272,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="RingSlot1" 
                                               Text="RING" 
                                               TextColor="#FFD700" 
                                               FontSize="7"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- RIGHT RING (InvSlot16) - X:210, Y:272 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="210,272,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="RingSlot2" 
                                               Text="RING" 
                                               TextColor="#FFD700" 
                                               FontSize="7"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- CHEST (InvSlot17) - X:123, Y:55 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="123,55,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="ChestSlot" 
                                               Text="CHEST" 
                                               TextColor="#FFD700" 
                                               FontSize="6"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- LEGS (InvSlot18) - X:123, Y:228 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="123,228,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="LegsSlot" 
                                               Text="LEGS" 
                                               TextColor="#FFD700" 
                                               FontSize="7"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- FEET (InvSlot19) - X:253, Y:228 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="253,228,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="FeetSlot" 
                                               Text="FEET" 
                                               TextColor="#FFD700" 
                                               FontSize="7"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- WAIST (InvSlot20) - X:123, Y:142 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="123,142,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="WaistSlot" 
                                               Text="WAIST" 
                                               TextColor="#FFD700" 
                                               FontSize="6"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                                <!-- AMMO (InvSlot21) - X:253, Y:316 -->
                                <Frame HorizontalOptions="Start" 
                                       VerticalOptions="Start"
                                       WidthRequest="42" 
                                       HeightRequest="42"
                                       Margin="253,316,0,0"
                                       HasShadow="False"
                                       Padding="0"
                                       BackgroundColor="#1a1a1a"
                                       BorderColor="#8B4513">
                                    <Grid>
                                        <Image Source="slot_background.png" Aspect="Fill" />
                                        <Label x:Name="AmmoSlot" 
                                               Text="AMMO" 
                                               TextColor="#FFD700" 
                                               FontSize="6"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center" 
                                               VerticalOptions="Center" />
                                    </Grid>
                                </Frame>

                            </Grid>
                        </Grid>
                    </Grid>
                </Frame>
            </StackLayout>
        </ScrollView>
    </Grid>

</ContentPage>
